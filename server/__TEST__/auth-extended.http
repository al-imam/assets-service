@baseUrl = http://localhost:8000/api/v1

###

@sign_up_request_auth = {{sign_up.response.body.auth}}

# @name sign_up
POST {{baseUrl}}/auth/sign-up/
Content-Type: application/json

{
  "email": "testuser@example.com",
  "password": "testuser@example.com",
  "name": "Test User Extended"
}

###

@sign_up_verify_auth = {{sign_up_verify.response.body.auth}}

# @name sign_up_verify
POST {{baseUrl}}/auth/sign-up/verify
Content-Type: application/json

{
  "auth": "{{sign_up_request_auth}}",
  "code": "046071"
}

###

@sign_in_auth = {{sign_in.response.body.auth}}

# @name sign_in
POST {{baseUrl}}/auth/sign-in
Content-Type: application/json

{
  "email": "testuser@example.com",
  "password": "testuser@example.com"
}

###

# @name get_current_user
GET {{baseUrl}}/auth/me
Cookie: auth={{sign_in_auth}}

###

# @name google_auth_init
GET {{baseUrl}}/auth/google

###

# @name google_auth_with_callback
GET {{baseUrl}}/auth/google?callbackUrl=https://example.com/dashboard

###

# @name google_callback_no_code
GET {{baseUrl}}/auth/google/callback

###

# @name google_callback_invalid_code
GET {{baseUrl}}/auth/google/callback?code=invalid_code&state=test

###

@password_change_auth = {{password_change_request.response.body.auth}}

# @name password_change_request
POST {{baseUrl}}/auth/password/change
Content-Type: application/json

{
  "email": "testuser@example.com",
  "newPassword": "newpassword123"
}

###

# @name password_change_verify
POST {{baseUrl}}/auth/password/change/verify
Content-Type: application/json

{
  "auth": "{{password_change_auth}}",
  "code": "046071"
}

###

# @name password_change_invalid_auth
POST {{baseUrl}}/auth/password/change/verify
Content-Type: application/json

{
  "auth": "invalid_auth_token",
  "code": "046071"
}

###

# @name password_change_invalid_code
POST {{baseUrl}}/auth/password/change/verify
Content-Type: application/json

{
  "auth": "{{password_change_auth}}",
  "code": "000000"
}

###

# @name sign_out
POST {{baseUrl}}/auth/sign-out
Cookie: auth={{sign_in_auth}}

###

# @name get_current_user_after_signout
GET {{baseUrl}}/auth/me
Cookie: auth={{sign_in_auth}}

###

# @name signin_invalid_credentials
POST {{baseUrl}}/auth/sign-in
Content-Type: application/json

{
  "email": "nonexistent@example.com",
  "password": "wrongpassword"
}

###

# @name signup_duplicate_email
POST {{baseUrl}}/auth/sign-up/
Content-Type: application/json

{
  "email": "testuser@example.com",
  "password": "testuser@example.com",
  "name": "Duplicate User"
}

###

# @name get_current_user_no_auth
GET {{baseUrl}}/auth/me
